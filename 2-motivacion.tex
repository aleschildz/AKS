Recordemos que, dado un entero positivo $n$, el conjunto $\mathbb{Z}_n \coloneq \{0, 1, \dots, n-1\}$ forma un grupo abeliano con la operación de suma en módulo $n$. Usaremos la notación $a \mods n$ para denotar al resto de dividir el entero $a$ en $n$, y también escribiremos $a \equiv b \modl n$ cuando $(a \mods n) = (b \mods n)$.

Para contestar la pregunta de si $(\mathbb{Z}_n, \cdot)$ es un grupo, necesitamos entender cuándo un número es invertible bajo la multiplicación en $\mathbb{Z}_n$. Un entero $a$ se dice \emph{invertible} en módulo $n$ si existe un entero $b$ tal que $a \cdot b \equiv 1 \modl n$. Por ejemplo, el número 2 es invertible en módulo 9
puesto que $2 \cdot 5 \equiv 1 \modl 9$, mientras que el número 3 no es invertible en módulo 9, pues para cualquier entero $b$ tenemos que el resto de dividir $3b$ en $9$ es $0$, $3$ o $6$. De hecho, es sencillo probar que $a$ es
invertible en módulo $n$ si y solo si $a$ y $n$ son coprimos, vale decir, el máximo común divisor de $a$ y $n$ es 1, lo cual es denotado como $\MCD(a,n) = 1$. \textcolor{red}{Ale: Ese es el lema de Bézout; supongo que se ve en el curso de matemáticas discretas. ¿Lo vamos a dejar sin demostrar?} Así, podemos concluir que, para $n \geq 2$,
$(\mathbb{Z}_n, \cdot)$ no es un grupo porque $0$ no es
invertible. Más aún, tenemos que $(\mathbb{Z}_n - \{0\},
\cdot)$ es un grupo si y solo si $n$ es un número primo, ya que $n$ es primo si y solo si todos los números en el conjunto $\{1, \ldots,
n-1\}$ son coprimos con $n$, lo que equivale a que todos sean invertibles en módulo $n$.

En general, para un entero $n \geq 1$, definimos $\mathbb{Z}_n^*$ como el conjunto de los $a \in \{1, \dots, n-1\}$ tales que $\MCD(a, n) = 1$. Por lo que discutimos en el párrafo anterior, $(\mathbb{Z}_n^*, \cdot)$ es un grupo abeliano. El orden de este grupo, que corresponde a la cantidad de enteros entre $1$ y $n-1$ que son coprimos con $n$ es una función fundamental en teoría de números.

\begin{definition}[Función $\varphi$ de Euler]
Dado un entero $n \geq 1$, definimos $\varphi(n) \coloneqq |\mathbb{Z}_n^*|$
\end{definition}

Notemos que $\varphi(n) = n - 1$ si y solo si
$n$ es un número primo. \textcolor{red}{Ale: aquí pondría una proposición que diga cuál es la función phi de la potencia de un primo, y que es una función multiplicativa.}


\textcolor{red}{Ale: hasta aquí es nuevo}


Dado que $(\mathbb{Z}_n^*, \cdot)$ es un grupo de orden $\phi(n)$ cuyo
neutro es el número 1, tenemos que $a^{\phi(n)} \equiv 1 \modl n$ para
cada $a \in \mathbb{Z}_n^*$. De esta forma, sabemos que para cada $a
\in \mathbb{Z}_n^*$, existe algún valor $r \geq 1$ tal que $a^r \equiv
1 \modl n$, y el siguiente número, conocido como el orden de $a$ en
$n$, está bien definido:
\begin{eqnarray*}
  O_n(a) & = & \min \{ r \in \mathbb{N} \mid 1 \leq r \leq \phi(n)
  \ \text{ y } \ a^r \equiv 1 \modl n \}.
\end{eqnarray*}
Este valor también juega un rol fundamental en test de primalidad AKS.

Otro concepto clave para el test de primalidad AKS es el de
polinomio en $\mathbb{Z}_n$, que definimos a continuación. Dada una
variable $X$ (también llamado indeterminado), recuerde que
$\mathbb{Z}[X]$ es el conjunto de todos los polinomios con
coeficientes en los números enteros. Por ejemplo, $2 X^3 - 3X +7$ y
$-4 X + 8$ son polinomios en $\mathbb{Z}[X]$. Como es usual, un
polinomio $p(X) \in \mathbb{Z}[X]$ es nulo si todos sus coeficientes
son iguales a cero, y el grado de un polinomio no nulo $p(X)$,
denotados como $\grado(p(X))$, es definido como el mayor número $k$
tal que el coeficiente de $X^k$ no es igual a $0$. Finalmente, dos
polinomios $p(X), q(X) \in \mathbb{Z}[X]$ son iguales si ambos son
nulos, o si $\grado(p(X))=\grado(q(X)) = k$ y para cada $i \in \{0,
\ldots, k\}$, se tiene que los coeficientes de $X^i$ en $p(X)$ y
$q(X)$ son iguales.

Dado $n \geq 1$ y una variable $X$, $\mathbb{Z}_n[X]$ es definido como
el conjunto de todos los polinomios con coeficientes en $\mathbb{Z}_n$. Todos
los conceptos definidos para $\mathbb{Z}[X]$ son validos para
$\mathbb{Z}_n[X]$ pero considerando que las operaciones deben
realizarse en módulo $n$. En particular, sea $p(X) = \sum_{i=0}^k a_i
X^i$ y $q(X)= \sum_{i=0}^k b_i X^i$ son polinomios en
$\mathbb{Z}_n[X]$. Entonces el polinomio $r(X) = p(X) + q(X)$ es
calculado considerando que $r(X) = \sum_{i=0}^k c_i X^i$ y cada $c_i$
es igual a $a_i + b_i$ en módulo $n$, vale decir, $c_i = (a_i+b_i)
\mods n$. La multiplicación $s(X) = p(X) \cdot q(X)$ es definida bajo
la misma consideración. Finalmente, utilizamos la notación $p(X)
\equiv q(X) \modl n$ para indicar que $p(X)$ y $q(X)$ son los mismos
polinomios en $\mathbb{Z}_n[X]$, lo cual es definido como para el caso
de $\mathbb{Z}[X]$ pero considerando que los coeficientes de los
polinomios deben ser congruentes en módulo $n$ (vale decir, para cada
$i \in \{0, \ldots, k\}$, se debe tener que $a_i \equiv b_i \modl n$).

%Un último concepto que debemos introducir antes de mostrar el test de
%primalidad AKS es la equivalencia de dos polonimos en módulo otro
%polinomio.
Dados $p(X), q(X), r(X) \in \mathbb{Z}[X]$ con $r(X)$ un
polinomio no nulo, decimos que $p(X)$ es congruente a $q(X)$ en módulo
$r(X)$, denotado como $p(X) \equiv q(X) \modl r(X)$, si $r(X)$ divide
a $p(X) - q(X)$, vale decir, si existe un polinomio $s(X) \in
\mathbb{Z}[X]$ tal que $r(X) \cdot s(X) = p(X) - q(X)$. De manera
análoga, dado $n \geq 1$ y $p(X), q(X), r(X) \in \mathbb{Z}_n[X]$ con
$r(X)$ un polinomio no nulo en $\mathbb{Z}_n[X]$, decimos que $p(X)$
es congruente a $q(X)$ en módulo $r(X)$ en $\mathbb{Z}_n[X]$, denotado
como $p(X) \equiv q(X) \modl (r(X),n)$, si $r(X)$ divide a $p(X) -
q(X)$ en $\mathbb{Z}_n[X]$, vale decir, si existe un polinomio $s(X)
\in \mathbb{Z}_n[X]$ tal que
\begin{align*}
  r(X) \cdot s(X) \equiv p(X) - q(X) \modl n.
\end{align*}
Un último concepto que debemos introducir antes de mostrar el test de
primalidad AKS es el máximo común divisor de dos polinomios. Para esto
vamos a considerar los polinomios en $\mathbb{Z}_p[X]$, donde $p$ es
un número primo. Un polinomio $d(X) \in \mathbb{Z}_p[X]$ se dice
mónico si $d(X) = X^k + c_{k-1} X^{k-1} + \cdots + c_1 X + c_0$. Dados
dos polinomios $p(X), q(X) \in \mathbb{Z}_p[X]$ tales que ambos no son
nulos, $\MCD(p(X),q(X))$ en $\mathbb{Z}_p[X]$ es un polinomio $r(X)$
que satisface las siguientes propiedades:
\begin{itemize}
\item $r(X)$ es mónico,
  
\item $r(X)$ divide a $p(X)$ y divide a $q(X)$ en $\mathbb{Z}_p[X]$, y

\item para cualquier polinomio $s(X)$ tal que $s(X)$ divide a
  $p(X)$ y divide a $q(X)$ en $\mathbb{Z}_p[X]$, se tiene que $s(X)$
  divide a $r(X)$ en $\mathbb{Z}_p[X]$.
\end{itemize}
Nótese que la condición de que $r(X)$ es mónico es utilizada para
asegurar la unicidad en la definición de $\MCD(p(X),q(X))$ en
$\mathbb{Z}_p[X]$ (vale decir, que exista un único polinomio $r(X)$
que satisface las propiedades anteriores). Finalmente, $p(X)$ y $q(X)$
son coprimos en $\mathbb{Z}_p[X]$ si $\MCD(p(X),q(X)) = 1$ en
$\mathbb{Z}_p[X]$.

%\comentarioin{definir el $O_n(r)$ y argumentar por que es primo relativo (inverso), definir funcion de euler, notacion de módulo}
%\comentarioin{Marcelo: tambien definir
%  $\mathbb{Z}_n^*$,
%  $\mathbb{Z}_p[X]$,  $\mathbb{Z}[X]$, la notación $\mod (p(X),n)$, explicar qué significa que $p(X) = q(X)$ en módulo $n$ e introducir la notación $p(X) \equiv q(X) \mods n$ (nótese que esto es un caso particular de la notación $p(X) \equiv q(X) \mods r(X)$ cuando $r(X)$ es un polinomio de grado 0), $\grado(p(X))$}
%\comentarioin{Marcelo: tenemos que decidir dónde vamos a introducir la notación sobre polinomios irreducibles y cuerpos, en particular la notación $\mathbb{Z}_p[X]/h(X)$}
%\comentarioin{Definir la cardinalidad y caracteristica de un cuerpo como el del comentario anterior}
%\comentarioin{definir caracteristica de cuerpo}
%\comentarioin{Me parece algo raro mostrar el resultado extra del lema 3.1 y no mostrar la demostracion del lema aca en el documento. Quizas podriamos mostrar el lema y el corolario, pero ambas demostraciones ponerlas en el apendice.}

\subsection{Un resultado fundamental usado en el test de primalidad AKS}
Concluimos esta sección presentando un resultado que será utilizado en
la demostración de la correctitud del algoritmo.
	\begin{lemma}[\cite{N82}]\label{lem-mcm}
		Sea $\MCM(n)$ el mí­nimo común múltiplo de los primeros $n$ números naturales positivos. Para $n \geq 7$ se cumple:
		\begin{eqnarray*}
			\MCM(n) & \geq & 2^n
		\end{eqnarray*}
	\end{lemma}
	La demostración de este lema es dada en el apéndice \ref{app-lem-mcm}. Como consecuencia de este lema se obtiene una cota inferior para la cantidad de números primos menores o iguales a un número $n$ dado. De hecho, en \cite{N82} se demuestra el lema \ref{lem-mcm} para establecer el corolario \ref{mm-mcm}. Aunque este no será utilizado en el resto del documento, damos su demostración por su simpleza y la importancia del resultado. 
	\begin{corollary}\label{mm-mcm}
	Sea $\pi(n)$ el número de primos menores o iguales a $n$. Para todo $n\geq 3$, se cumple que 
	\begin{eqnarray*}
		\pi(n) & \geq &\frac{n}{\log_2(n)}
	\end{eqnarray*}	
	\end{corollary}
	\begin{proof}
	Sea $n \geq 7$, de manera tal que $\MCM(n) \geq 2^n$ por el lema \ref{lem-mcm}.
	%Sabemos por el Lema \ref{lem-mcm} se cumple para cualquier $m\geq 7$. 
	Dado un primo $p \in \{2, \ldots, n\}$, sea $\alpha_p$ el mayor número natural tal que $p^{\alpha_p} \leq n$. Por definición de $\MCM(n)$, tenemos que
	\begin{eqnarray*}
		\MCM(n) & = & \prod_{p \in \{2, \ldots, n\} \,:\, p \text{ es primo}} p^{\alpha_p}
	\end{eqnarray*}
	Dado que $p^{\alpha_p} \leq n$ para todo primo $p \in \{2, \ldots, n\}$,
        %(ya que $p^{\log_p n}= n$),
        concluimos que
\begin{eqnarray*}
		\MCM(n) & \leq & \prod_{p \in \{2, \ldots, n\} \,:\, p \text{ es primo}} n.
                %p^{\log_p(n)} \ = \ \prod_{p \in \{2, \ldots, n\} \,:\, p \text{ es primo}} p^{\frac{\log_2(n)}{\log_2(p)}}
	\end{eqnarray*}
	Aplicando la función $\log_2(\cdot)$ en ambos lados de la desigualdad obtenemos:
	\begin{eqnarray*}
		\log_2(\MCM(n)) & \leq & \log_2\bigg(\prod_{p \in \{2, \ldots, n\} \,:\, p \text{ es primo}} n\bigg)\\
%		& = & \sum_{p \in \{2, \ldots, n\} \,:\, p \text{ es primo}} \log_2(p^{\frac{\log_2(n)}{\log_2(p)}})\\
%		& = & \sum_{p \in \{2, \ldots, n\} \,:\, p \text{ es primo}} \frac{\log_2(n)}{\log_2(p)}\log_2(p)	\\
		& = & \sum_{p \in \{2, \ldots, n\} \,:\, p \text{ es primo}} \log_2(n)\\
		& = & \log_2(n) \cdot \pi(n)
		\end{eqnarray*}
Dado que 	$\MCM(n) \geq 2^n$, tenemos que $\log_2(\MCM(n)) \geq n$. Así, dado que $\log_2(n) \cdot \pi(n) \geq \log_2(\MCM(n))$, obtenemos que
	\begin{eqnarray*}
		\pi(n) & \geq &\frac{n}{\log_2(n)}
	\end{eqnarray*}	
	Para concluir la demostración del lema basta verificar manualmente que la propiedad también se cumple para los valores 3, 4, 5 y 6. Dejamos esta parte de la demostración al lector.
	\end{proof}
	
    
